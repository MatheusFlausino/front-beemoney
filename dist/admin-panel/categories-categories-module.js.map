{"version":3,"sources":["webpack:///./src/app/categories/categories.component.html","webpack:///./src/app/categories/categories.component.scss","webpack:///./src/app/categories/categories.component.ts","webpack:///./src/app/categories/categories.module.ts","webpack:///./src/app/categories/new-categories/new-categories.component.html","webpack:///./src/app/categories/new-categories/new-categories.component.scss","webpack:///./src/app/categories/new-categories/new-categories.component.ts"],"names":[],"mappings":"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","file":"categories-categories-module.js","sourcesContent":["module.exports = \"<!-- <p>\\n  categories works!\\n\\n\\n\\n  <a [routerLink]=\\\"'./new'\\\">New</a>\\n  <br>\\n  <a [routerLink]=\\\"'./edit/1'\\\">Edit</a>\\n</p> -->\\n\\n<h5 class=\\\"mb-4\\\"><b>Categorias</b></h5>\\n<div class=\\\"card\\\">\\n  <div class=\\\"card-body d-flex flex-column\\\">\\n      <button [routerLink]=\\\"'./new'\\\" type=\\\"button\\\" class=\\\"btn ml-auto btn-primary\\\"><i class=\\\"material-icons\\\">note_add</i>\\n        Adicionar Categoria</button>\\n    <table id=\\\"data_table\\\" datatable [dtOptions]=\\\"dtOptions\\\" [dtTrigger]=\\\"dtTrigger\\\" class=\\\"display table responsive no-wrap\\\">\\n      <tbody *ngIf=\\\"data?.length != 0\\\">\\n        <tr *ngFor=\\\"let v of data; let i = index\\\">\\n          <td>\\n            <p class=\\\"my-3\\\">{{ i }}</p>\\n          </td>\\n          <td>\\n            <p class=\\\"my-3\\\">{{ v.name }}</p>\\n          </td>\\n          <td>\\n            <p class=\\\"my-3\\\"><i class=\\\"material-icons\\\">{{ v.icon }}</i></p>\\n          </td>\\n          <td>\\n            <button (click)=\\\"delete(v.id)\\\" type=\\\"button\\\" class=\\\"btn float-right m-1 btn-danger btn-just-icon\\\"><i class=\\\"material-icons\\\">cancel</i></button>\\n            <!-- <button type=\\\"button\\\" class=\\\"btn float-right m-1 btn-primary btn-just-icon\\\"><i class=\\\"material-icons\\\">remove_red_eye</i></button> -->\\n            <button [routerLink]=\\\"'./edit/'+v.id\\\" type=\\\"button\\\" class=\\\"btn float-right m-1 btn-dark  btn-just-icon\\\"><i class=\\\"material-icons\\\">edit</i></button>\\n          </td>\\n        </tr>\\n      </tbody>\\n    </table>\\n  </div>\\n</div>\"","module.exports = \"\"","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { CategoriaApi } from '../../assets/js/services';\n\nimport * as moment from 'moment';\n\nimport { DataTableDirective } from 'angular-datatables';\n\nimport { Subject } from 'rxjs';\n\n@Component({\n  selector: 'app-categories',\n  templateUrl: './categories.component.html',\n  styleUrls: ['./categories.component.scss']\n})\nexport class CategoriesComponent implements OnInit {\n\n  pathRoute;\n  data;\n  dtOptions: DataTables.Settings = {\n  };\n\n  dtTrigger: Subject<any> = new Subject();\n\n  @ViewChild(DataTableDirective)\n  dtElement: DataTableDirective;\n  \n  constructor(private _router: Router, private CategoriaApi: CategoriaApi) {\n    this.pathRoute = _router.url;\n  }\n\n  delete(id) {  \n    //CategoriaApi\n    this.CategoriaApi.deleteById(id).subscribe((response: any) => {      \n      this.data = this.data.filter(obj => obj.id !== id);\n      this.dtElement.dtInstance.then((dtInstance: DataTables.Api) => {\n        // Destroy the table first\n        dtInstance.destroy();\n        // Call the dtTrigger to rerender again\n        this.dtTrigger.next();\n      });\n    });\n  }\n\n\n  ngOnDestroy(): void {\n    // Do not forget to unsubscribe the event\n    this.dtTrigger.unsubscribe();\n  }\n\n  ngOnInit() {\n\n    this.pathRoute = this._router.url;\n    this.dtOptions = {\n      language: {\n        \"lengthMenu\": \"Show _MENU_\",\n        searchPlaceholder: \"Search\",\n        zeroRecords: ''\n      },\n      columns: [\n        {\n          title: '#',\n          data: 'id'\n        },\n        {\n          title: 'Categoria',\n          data: 'name'\n        },\n        {\n          title: 'Ícone',\n          data: 'icon'\n        },\n        {\n          title: \"\",\n          className: \"action-head\"\n        }\n      ],\n      // rowCallback: (row: Node, data: any[] | Object, index: number) => {\n      //   const self = this;\n      //   // Unbind first in order to avoid any duplicate handler\n      //   // (see https://github.com/l-lin/angular-datatables/issues/87)\n      //   $('td', row).unbind('click');\n      //   $('td', row).bind('click', () => {\n      //     console.log(data);\n\n      //     // self.someClickHandler(data);\n      //   });\n      //   return row;\n      // }\n    };\n\n    this.CategoriaApi.find({}).subscribe((resp: any) => {\n      // resp.forEach((v, k) => {\n      //   resp[k].date_start = v.date_start ? moment(v.date_start).format('DD/MM/YYYY HH:mm') : null;\n      //   resp[k].date_end = v.date_end ? moment(v.date_end).format('DD/MM/YYYY HH:mm') : null;\n      // });\n      // debugger;\n      this.data = resp;\n      this.dtTrigger.next();\n    });\n\n\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { CategoriesComponent } from './categories.component';\nimport { RouterModule, Routes } from '@angular/router';\nimport { FormsModule }   from '@angular/forms';\nimport { AgmCoreModule } from '@agm/core';\nimport { NewCategoriesComponent } from './new-categories/new-categories.component';\nimport { DataTablesModule } from 'angular-datatables';\n\nconst routes: Routes = [\n  { path: '', component: CategoriesComponent },\n  { path: 'new', component: NewCategoriesComponent },\n  { path: 'edit/:id', component: NewCategoriesComponent, data:{id:'teste'}}\n];\n\n\n@NgModule({\n  imports: [\n    CommonModule,    \n    RouterModule.forChild(routes),\n    DataTablesModule,\n    FormsModule\n  ],\n  declarations: [CategoriesComponent, NewCategoriesComponent]\n})\nexport class CategoriesModule { }\n","module.exports = \"<!-- <p>\\n  new-categories works!\\n  id: {{data.id}}\\n</p> -->\\n\\n<h5 class=\\\"mb-4\\\"><b>{{params.id ? 'Editar Categoria' : 'Nova Categoria'}}</b></h5>\\n<div class=\\\"card\\\">\\n  <div class=\\\"card-body\\\">\\n    <form #f=\\\"ngForm\\\" (ngSubmit)=\\\"save(f)\\\">\\n      <!-- <form > -->\\n      <div class=\\\"form-group row\\\">\\n        <div class=\\\"col-sm-6 col-xs-12\\\">\\n          <label class=\\\"col-form-label\\\">Categoria</label>\\n          <input name=\\\"name\\\" ngModel=\\\"{{category.name}}\\\" type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Categoria\\\">\\n        </div>\\n        <div class=\\\"col-sm-6 col-xs-12\\\">\\n          <label class=\\\"col-form-label\\\">Ícone</label>\\n          <div class=\\\"form-group input-group\\\">\\n            <div class=\\\"input-group-prepend\\\">\\n              <div style=\\\"width:48px\\\" class=\\\"input-group-text\\\"><i class=\\\"material-icons\\\">{{form.form.value.icon}}</i></div>\\n            </div>\\n            <input name=\\\"icon\\\" ngModel=\\\"{{category.icon}}\\\" type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Ícone\\\">\\n          </div>\\n\\n        </div>\\n        <div class=\\\"col-sm-12 d-flex justify-content-center mt-4\\\">\\n          <button [routerLink]=\\\"'/categories'\\\" type=\\\"button\\\" class=\\\"btn w-13 w-sm-80 m-3 btn-danger\\\">VOLTAR</button>\\n          <button type=\\\"submit\\\" class=\\\"btn w-13 w-sm-80 m-3 btn-primary\\\">SALVAR</button>\\n        </div>\\n      </div>\\n    </form>\\n  </div>\\n</div>\"","module.exports = \"\"","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { NgForm } from '@angular/forms';\nimport { CategoriaApi } from '../../../assets/js/services';\n\n@Component({\n  selector: 'app-new-categories',\n  templateUrl: './new-categories.component.html',\n  styleUrls: ['./new-categories.component.scss']\n})\nexport class NewCategoriesComponent implements OnInit {\n  @ViewChild('f') form: NgForm;\n  \n  params;\n  category;\n\n  constructor(protected route: ActivatedRoute, protected router: Router, private CategoriaApi: CategoriaApi) {    \n    this.category = {};\n  }\n\n  save(f: NgForm) {\n    if (f.form.valid && f.form.value.name != '' && f.form.value.icon != '') {\n      let obj = { name: f.form.value.name, icon: f.form.value.icon };\n      this.params.id ? obj['id'] = this.params.id : null;\n      this.CategoriaApi.upsert(obj).subscribe((response: any) => {\n        f.form.reset();\n        this.router.navigate(['/categories'])\n      });\n    }\n  }\n\n  ngOnInit() {\n    this.route.params.subscribe(params => this.params = params);\n    if(this.params && this.params.id){\n      this.CategoriaApi.findById(this.params.id).subscribe((response: any) => {\n        this.category.name = response.name\n        this.category.icon = response.icon\n      });\n      \n    }\n  }\n\n}\n"],"sourceRoot":""}