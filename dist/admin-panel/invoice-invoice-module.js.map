{"version":3,"sources":["webpack:///./src/app/invoice/invoice.component.html","webpack:///./src/app/invoice/invoice.component.scss","webpack:///./src/app/invoice/invoice.component.ts","webpack:///./src/app/invoice/invoice.module.ts","webpack:///./src/app/invoice/new-invoice/new-invoice.component.html","webpack:///./src/app/invoice/new-invoice/new-invoice.component.scss","webpack:///./src/app/invoice/new-invoice/new-invoice.component.ts"],"names":[],"mappings":"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","file":"invoice-invoice-module.js","sourcesContent":["module.exports = \"<!-- <p>\\n  invoice works!\\n  <a [routerLink]=\\\"'./new'\\\">New</a>\\n  <br>\\n  <a [routerLink]=\\\"'./edit/1'\\\">Edit</a>\\n</p> -->\\n\\n<h5 class=\\\"mb-4\\\"><b>FATURAS</b></h5>\\n<div class=\\\"card\\\">\\n  <div class=\\\"card-body d-flex flex-column\\\">\\n    <button type=\\\"button\\\" (click)=\\\"createInvoice()\\\" class=\\\"btn ml-auto btn-primary\\\"><i class=\\\"material-icons\\\">note_add</i>\\n      Adicionar Fatura</button>\\n    <table id=\\\"data_table\\\" datatable [dtOptions]=\\\"dtOptions\\\" [dtTrigger]=\\\"dtTrigger\\\" class=\\\"display table responsive no-wrap\\\">\\n      <tbody *ngIf=\\\"data?.length != 0\\\">\\n        <tr *ngFor=\\\"let v of data; let i = index \\\">\\n          <td> <p class=\\\"my-3\\\"> {{ i + 1 }} </p></td>\\n          <td> <p class=\\\"my-3\\\"> {{ v.date_start ? v.date_start : null }} </p></td>\\n          <td> <p class=\\\"my-3\\\"> {{ v.date_end ? v.date_end : null }} </p></td>\\n          <td> <p class=\\\"my-3\\\"> {{ v.status_close }} </p></td>\\n          <td> <p class=\\\"my-3\\\"> {{ v.status_paid }} </p></td>\\n          <td >\\n            <button type=\\\"button\\\" class=\\\"btn float-right m-1 btn-danger btn-just-icon\\\"><i class=\\\"material-icons\\\">cancel</i></button>\\n            <button type=\\\"button\\\" class=\\\"btn float-right m-1 btn-primary btn-just-icon\\\"><i class=\\\"material-icons\\\">remove_red_eye</i></button>\\n            <button type=\\\"button\\\" class=\\\"btn float-right m-1 btn-dark  btn-just-icon\\\"><i class=\\\"material-icons\\\">edit</i></button>\\n          </td>\\n        </tr>\\n      </tbody>\\n    </table>\\n  </div>\\n</div>\"","module.exports = \"\"","import { AfterViewInit, Component, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { FaturaApi } from '../../assets/js/services';\n\nimport * as moment from 'moment';\n\nimport { DataTableDirective } from 'angular-datatables';\n\nimport { Subject } from 'rxjs';\n\nclass Invoice {\n  id: string;\n  date_start: Date;\n  date_end: Date;\n  status_close: boolean;\n  status_paid: boolean;\n}\n\n@Component({\n  selector: 'app-invoice',\n  templateUrl: './invoice.component.html',\n  styleUrls: ['./invoice.component.scss']\n})\n\nexport class InvoiceComponent implements OnDestroy, OnInit {\n  @ViewChild(DataTableDirective)\n  dtElement: DataTableDirective;\n\n  pathRoute;\n  data: Invoice[];\n  dtOptions: DataTables.Settings = {};\n\n  fields;\n\n  dtTrigger: Subject<any> = new Subject();\n\n  constructor(private _router: Router, private faturaApi: FaturaApi) {\n    this.pathRoute = _router.url;\n  }\n\n  ngOnInit() {\n    const that = this;\n\n    this.pathRoute = this._router.url;\n\n    this.dtOptions = {\n      language: {\n        \"lengthMenu\": \"Show _MENU_\",\n        searchPlaceholder: \"Search\",\n        zeroRecords: ''\n      },\n      columns: [\n        { \n          title: '#',\n          data: 'id'\n        },\n        {\n          title: 'Abertura',\n          data: 'date_start'\n        },\n        {\n          title: 'Fechamento',\n          data: 'date_end'\n        },\n        {\n          title: 'Fatura Fechada',\n          data: 'status_close'\n        },\n        {\n          title: 'Fatura Pago',\n          data: 'status_paid'\n        },\n        {\n          title: ''\n        }\n      ]\n    };\n\n    this.faturaApi.find({}).subscribe((resp: any) => {\n      resp.forEach((v, k) => {\n        resp[k].date_start = v.date_start ? moment(v.date_start).format('DD/MM/YYYY HH:mm') : null;\n        resp[k].date_end = v.date_end ? moment(v.date_end).format('DD/MM/YYYY HH:mm') : null;\n      });\n      this.data = resp;\n      this.dtTrigger.next();\n    });\n\n    \n  }\n\n  ngOnDestroy(): void {\n    // Do not forget to unsubscribe the event\n    this.dtTrigger.unsubscribe();\n  }\n\n  createInvoice() {\n    this.faturaApi.create({\n      'date_start': new Date()\n    }).subscribe((resp: any) => {\n\n      resp.date_start = resp.date_start ? moment(resp.date_start).format('DD/MM/YYYY HH:mm') : null;\n      resp.date_end = resp.date_end ? moment(resp.date_end).format('DD/MM/YYYY HH:mm') : null;\n      \n      this.data.push(resp);\n      \n      this.dtElement.dtInstance.then((dtInstance: DataTables.Api) => {\n        // Destroy the table first\n        dtInstance.destroy();\n        // Call the dtTrigger to rerender again\n        this.dtTrigger.next();\n      });\n\n    });\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { InvoiceComponent } from './invoice.component';\nimport { NewInvoiceComponent } from './new-invoice/new-invoice.component';\nimport { RouterModule, Routes } from '@angular/router';\nimport { AgmCoreModule } from '@agm/core';\nimport { DataTablesModule } from 'angular-datatables';\n\nconst routes: Routes = [\n  { path: '', component: InvoiceComponent },\n  { path: 'new', component: NewInvoiceComponent },\n  { path: 'edit/:id', component: NewInvoiceComponent, data:{id:'teste'}}\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RouterModule.forChild(routes),\n    DataTablesModule\n  ],\n  declarations: [InvoiceComponent, NewInvoiceComponent]\n})\nexport class InvoiceModule { }\n","module.exports = \"<p>\\n  new-invoice works!\\n</p>\\n\"","module.exports = \"\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-new-invoice',\n  templateUrl: './new-invoice.component.html',\n  styleUrls: ['./new-invoice.component.scss']\n})\nexport class NewInvoiceComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n"],"sourceRoot":""}